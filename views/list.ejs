<%- include("header") -%>

<!-- Navbar -->
<nav class="navbar navbar-expand-sm navbar-dark fixed-top ">
    <div class="container">
        <h1 class="heading">To-Do List</h1>
        
            <span><form action="/reset" method="post">
                <h1 class="heading">Score: <%= score %>
                <button type="sudmit"><i class="fas fa-redo"></i></button></h1>
            </form></span>
        
    </div>
</nav>

<!-- Main page -->
<div class="container">

    <div class="todo-task">
        <form class="item" action="/" method="post">
            <input id="taskInput" type="text" placeholder="Enter your task here" name="newItem" autocomplete="off" required autofocus>
            <button class="add" type="submit" name="priority" value="low">Add + </button>
            <button class="priority high highpriority" type="submit" name="priority" value="high">H</button>
            <button class="priority med" type="submit" name="priority" value="med">M</button>
            <button class="priority low " type="submit" name="priority" value="low">L</button>
        </form>
    </div>

    <div class="todo-list">
        <% newItems.forEach(function(item){ %>
            <form action="/update" method="POST">
                <div class="todo-item <%= item.priority %>">
                    <div class="todo-item-header">
                        <input type="checkbox" >
                        <div class="todo-item-title"><%= item.name %></div>
                    </div>
                    <div class="todo-item-buttons">
                        <button class="delete-button" type="submit" name="remove" value=<%= item._id %>><i class="fas fa-trash"></i></button>
                    </div>
                </div>
            </form>
        <% }); %> 
    </div>
    <hr>

    <div class="todo-info">
        <p class="todo-info-item">low Priority : <%= lowLeft %></p>
        <p class="todo-info-item">Medium Priority : <%= medLeft %></p>
        <p class="todo-info-item">high Priority : <%= highLeft %></p>
    </div>
    <hr>

    <div class="todo-menu">
        <form action="\filter" method="post">
            <button type="submit" class="btn btn-primary active" name="all" value="all">All</button>
            <button type="submit" class="btn btn-primary low " name="low" value="low">low</button>
            <button type="submit" class="btn btn-primary med" name="med" value="med">Medium</button>
            <button type="submit" class="btn btn-primary high" name="high" value="high">high</button>
        </form>   
    </div>

</div>

<%- include("footer") -%>